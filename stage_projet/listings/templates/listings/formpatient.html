{% extends 'listings/template.html' %}
{% block formpatient %}
<center>
<form method="post" action="{% url 'patient' %}" class="formcontenu" enctype="multipart/form-data">
  <div>
    <nav class="divcontenunav">Patient</nav>
</div>
    {% csrf_token %}
    <fieldset>
        {% if success %}
        <p class="p2">Patient a été créé et assigné au médecin {{medecin.nom}}.</p>
        {% endif %}
        {% if error_message %}
                <p class="p1">{{ error_message }}</p>
        {% endif %}

        <div class="divsortie">
            <label for="num">Numéro du patient</label>
            <input type="text" placeholder="Numéro du patient" name="numeropatient" id="num" class="inputcontenu" required/>
        </div>

        <div class="divsortie">
                <label for="medecins">médecins</label>
                <select name="medecin" required>
                    <option>Choisir un médcin</option>
                    {% for medecin in medecins %}
                    <option value='{{ medecin.refpersoignant }}'>{{ medecin.nom }}</option>
                    {% endfor %}
                </select>
        </div>

        <div class="divsortie">
            <label for="lit">Numéro de lit</label>
            <select name="lit"  id="lit" required>
                <option>Choisir un lit</option>
                {% for lit in lits %}
                <option value='{{ lit.reflit }}'>Lit {{ lit.numlit }}</option>
                {% endfor %}
            </select>
        </div>

        
        <div class="divsortie">
            <label for="nom" >Nom</label>
            <input type="text" placeholder="Nom" name="nom" id="nom" class="inputcontenu" required/>
        </div>
        <div class="divsexe">
            <label>Sexe</label>
            <div><input type="radio" name="sexe" value="masculin" required id="msc" /><label for="msc" >Masculin</label></div>
            <div><input type="radio" name="sexe" value="féminin" required id ="fem" /><label for="fem" >Féminin</label></div>
        </div>

        <div class="divsortie">
            <label for="email" >Email</label>
            <input type="email" placeholder="Email" name="email" id="email" class="inputcontenu" required/>
        </div>
        
        <div class="divsortie">
            <label for="age" >Âge</label>
            <input type="text" placeholder="Âge" name="age" id="age" class="inputcontenu" required/>
        </div>


        <div class="divsortie">
            <label for="contact1" >Contact 1</label>
            <input type="tel" minlength="10" maxlength="10" pattern="[0-9]{10}" placeholder="Numéro 1" name="contact1" id="contact1" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="contact2">Contact 2</label>
            <input type="tel"  minlength="10" maxlength="10" pattern="[0-9]{10}" placeholder="Numéro 2" name="contact2" id="contact2" class="inputcontenu" required/>
        </div>
        
        <div class="divsortie">
            <label for="ville" >Ville</label>
            <input type="text" placeholder="Ville" name="ville" id="ville" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="commune" >Commune</label>
            <input type="text" placeholder="Commune" name="commune" id="commune" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="quartier" >Quartier</label>
            <input type="text" placeholder="Quartier" name="quartier" id="quartier" class="inputcontenu" required/>
        </div>
        

        <div class="divsortie">
            <label for="profession" >Profession</label>
            <select name="profession"  id="profession" required>
                <option>Choisir une profession</option>
                <option value="Agriculteurs exploitants">Agriculteurs exploitants</option>
                <option value="Artisans">Artisans</option>
                <option value="Commerçants">Commerçants</option>
                <option value="Chefs d'entreprise">Chefs d'entreprise</option>

                <option value="Cadres et professions intellectuelles supérieures">Cadres et professions intellectuelles supérieures</option>
                <option value="Professions intermédiaires">Professions intermédiaires</option>
                <option value="Employés">Employés</option>
                <option value="Ouvriers">Ouvriers</option>


                <option value="Retraités">Retraités</option>
                <option value="Autres personnes sans activité professionnelle">Autres personnes sans activité professionnelle</option>
                <option value="Élèves et étudiants">Élèves et étudiants</option>
            </select>
        </div>
        
        <div class="divsortie">
            <label for="nationalite">Nationalité</label>
            <input type="text" placeholder="Nationalité" name="nationalite" id="nationalite" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="situation_matrimoniale">Situation matrimoniale</label>
                <select name="situation_matrimoniale"  id="situation_matrimoniale" required>
                    <option>Choisir une Situation matrimoniale</option>
                    <option value="Célibataire">Célibataire</option>
                    <option value="Divorcé">Divorcé</option>
                    <option value="Marié">Marié</option>
                    <option value="Veuf (ve)">Veuf (ve) </option>
                </select>
        </div>
        <div class="divsortie">
            <label for="nombre_enfant" >Nombre d'enfant</label>
            <input type="text" placeholder="Nombre d'enfant" name="nombre_enfant" id="nombre_enfant" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="personne_a_contacter" >Personne à contacter</label>
            <input type="text" placeholder="Personne à contacter" name="personne_a_contacter" id="personne_a_contacter" class="inputcontenu" required/>
        </div>
        <div class="divsortie">
            <label for="telephone_cpu" >Contact de la personne à contacter</label>
            <input type="tel"  minlength="10" maxlength="10" pattern="[0-9]{10}" placeholder="Contact de la personne à contacter" name="telephone_cpu" id="telephone_cpu" class="inputcontenu" required/>
        </div>

    </fieldset>
    <input type="submit" name="validepatient" value="Enregistrer" class="btn btn-primary" required/>
</form>
</center>
{% endblock %}
